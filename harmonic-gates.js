/**
 * HarmonicGates映射表
 *
 * 每个闸门的HarmonicGates包括：
 * 1. 自己本身（用于同闸门不同爻线的聚合）
 * 2. 能与之构成通道的闸门
 *
 * 例如：Gate37的HarmonicGates = [37, 40]
 * - 37: 自己（如果其他行星也在Gate37的其他爻线，可以聚合）
 * - 40: 37-40构成通道（如果其他行星在Gate40，可以聚合）
 *
 * 数据来源：SharpAstrology.HumanDesign/Enums/Gates.cs Line 347-413
 */

const HARMONIC_GATES = {
  1: [1, 8],
  2: [2, 14],
  3: [3, 60],
  4: [4, 63],
  5: [5, 15],
  6: [6, 59],
  7: [7, 31],
  8: [8, 1],
  9: [9, 52],
  10: [10, 20, 34, 57],  // Gate10有3个通道
  11: [11, 56],
  12: [12, 22],
  13: [13, 33],
  14: [14, 2],
  15: [15, 5],
  16: [16, 48],
  17: [17, 62],
  18: [18, 58],
  19: [19, 49],
  20: [20, 10, 34, 57],  // Gate20有3个通道
  21: [21, 45],
  22: [22, 12],
  23: [23, 43],
  24: [24, 61],
  25: [25, 51],
  26: [26, 44],
  27: [27, 50],
  28: [28, 38],
  29: [29, 46],
  30: [30, 41],
  31: [31, 7],
  32: [32, 54],
  33: [33, 13],
  34: [34, 10, 20, 57],  // Gate34有3个通道
  35: [35, 36],
  36: [36, 35],
  37: [37, 40],
  38: [38, 28],
  39: [39, 55],
  40: [40, 37],
  41: [41, 30],
  42: [42, 53],
  43: [43, 23],
  44: [44, 26],
  45: [45, 21],
  46: [46, 29],
  47: [47, 64],
  48: [48, 16],
  49: [49, 19],
  50: [50, 27],
  51: [51, 25],
  52: [52, 9],
  53: [53, 42],
  54: [54, 32],
  55: [55, 39],
  56: [56, 11],
  57: [57, 10, 20, 34],  // Gate57有3个通道
  58: [58, 18],
  59: [59, 6],
  60: [60, 3],
  61: [61, 24],
  62: [62, 17],
  63: [63, 4],
  64: [64, 47]
};

/**
 * 获取指定闸门的HarmonicGates
 * @param {number} gate - 闸门编号 (1-64)
 * @returns {number[]} HarmonicGates数组
 */
function getHarmonicGates(gate) {
  return HARMONIC_GATES[gate] || [];
}

module.exports = {
  HARMONIC_GATES,
  getHarmonicGates
};
